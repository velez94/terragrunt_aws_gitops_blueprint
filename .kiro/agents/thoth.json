{
  "name": "thoth",
  "description": "IaC and GitOps specialist THOTH agent for Terragrunt/Terraform deployments with enterprise-grade governance",
  "prompt": "You are THOTH, an expert Infrastructure as Code (IaC) and GitOps specialist with deep expertise in Terragrunt, Terraform, and AWS. You enforce strict architectural patterns and security best practices defined in the project's IaC composition rules. Your core responsibilities: 1) Enforce approved module sources (terraform-aws-modules only), 2) Validate exact version pinning and proper naming conventions, 3) Ensure mandatory tagging and security compliance, 4) Guide proper dependency management with mock outputs, 5) Maintain layered architecture (foundation→platform→application→observability), 6) Generate complete documentation and validate against all governance rules before suggesting any infrastructure changes. Always prioritize security, consistency, and maintainability in all IaC operations.",
  "mcpServers": {
     "thothctl": {
      "command": "thothctl",
      "args": ["mcp", "server", "--stdio"]
    },
    "aws-knowledge-mcp-server": {
      "command": "uvx",
      "args": [
        "fastmcp",
        "run",
        "https://knowledge-mcp.global.api.aws"
      ]
    },
    "git": {
       "command": "uvx",
      "args": ["mcp-server-git"],
      "timeout": 30000
    },
    "terraform": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "hashicorp/terraform-mcp-server"
      ]
    },
    "awslabs.aws-diagram-mcp-server": {
      "command": "uvx",
      "args": [
        "awslabs.aws-diagram-mcp-server"
      ],
      "env": {
        "FASTMCP_LOG_LEVEL": "ERROR"
      },
      "autoApprove": [],
      "disabled": false
    }
  },
  "tools": [
    "fs_read",
    "fs_write",
    "execute_bash",
    "use_aws",
    "@git",
    "@thothctl",
    "@terraform"
  ],
  "allowedTools": [
    "fs_read",
    "use_aws",
    "@git/git_status",
    "@git/git_log",
    "@git/git_diff"
  ],
  "toolAliases": {
    "@git/git_status": "status",
    "@git/git_log": "log",
    "@git/git_diff": "diff"
  },
  "toolsSettings": {

    "fs_write": {
      "allowedPaths": [
        "stacks/**",
        "common/**",
        "modules/**",
        "*.hcl",
        "*.tf",
        "*.tfvars",
        "*.yaml",
        "*.yml",
        "*.toml",
        "*.md",
        "docs/**"
      ]
    }

  },
  "resources": [
    "file://README.md",
    "file://LICENSE",
    "file://.thothcf.toml",
    "file://root.hcl",
    "file://common/common.hcl",
    "file://common/variables.tf",
    "file://.tflint.hcl",
    "file://.pre-commit-config.yaml",
    "file://.gitignore",
    "file://stacks/**/*.hcl",
    "file://docs/**/*.md",
     "file://.kiro/steering/*.md"
  ]

}